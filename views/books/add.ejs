<!DOCTYPE html>
<html lang="es" class="h-full">

<head>
    <meta charset="UTF-8">
    <title>A침adir Libro</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="/stylesheets/style.css">
</head>

<body class="bg-emerald-50 flex min-h-screen w-screen">

    <!-- SIDEBAR -->
    <%- include('../plantillas/sidebar') %>

        <!-- CONTENIDO PRINCIPAL -->
        <div class="flex flex-col flex-1 w-full min-h-screen">

            <!-- HEADER -->
            <%- include('../plantillas/header1') %>

                <!-- MAIN -->
                <main class="flex-1 p-4">
                    <div class="container">
                        <% if (messages && messages.error) { %>
                            <div class="alert alert-danger"><%- messages.error %></div>
                            <% } %>

                                <div class="card shadow-sm">
                                    <div class="card-header">
                                        <h4 class="mb-0">游닄 A침adir Libro</h4>
                                    </div>
                                    <div class="card-body">
                                        <form action="/books/add" method="POST">
                                            <div class="form-group mb-3">
                                                <label>Nombre:</label>
                                                <input type="text" name="name" class="form-control" value="<%= name %>"
                                                    required>
                                            </div>
                                            <div class="form-group mb-3">
                                                <label>ISBN:</label>
                                                <input type="text" name="isbn" class="form-control" value="<%= isbn %>"
                                                    required>
                                            </div>
                                            <div class="form-group mb-3">
                                                <label>A침o de publicaci칩n:</label>
                                                <input type="number" name="year_published" class="form-control"
                                                    value="<%= year_published %>" required>
                                            </div>
                                            <div class="form-group mb-3">
                                                <label>N칰mero de p치ginas:</label>
                                                <input type="number" name="num_pages" class="form-control"
                                                    value="<%= num_pages %>" required>
                                            </div>
                                            <div class="form-group mb-3">
                                                <label>Autor:</label>
                                                <select name="id_author" class="form-control" required>
                                                    <option value="">Seleccione un autor</option>
                                                    <% authors.forEach(function(author) { %>
                                                        <option value="<%= author.id_author %>" <%=locals.id_author &&
                                                            id_author==author.id_author ? 'selected' : '' %>>
                                                            <%= author.name %>
                                                        </option>
                                                        <% }); %>
                                                </select>
                                            </div>
                                            <div class="form-group mb-3">
                                                <label>Categor칤a:</label>
                                                <select name="id_category" class="form-control" required>
                                                    <option value="">Seleccione una categor칤a</option>
                                                    <% categories.forEach(function(category) { %>
                                                        <option value="<%= category.id_category %>"
                                                            <%=locals.id_category && id_category==category.id_category
                                                            ? 'selected' : '' %>>
                                                            <%= category.name %>
                                                        </option>
                                                        <% }); %>
                                                </select>
                                            </div>
                                            <div class="form-group mb-3">
                                                <label>Editorial:</label>
                                                <select name="id_publisher" class="form-control" required>
                                                    <option value="">Seleccione una editorial</option>
                                                    <% publishers.forEach(function(publisher) { %>
                                                        <option value="<%= publisher.id_publisher %>"
                                                            <%=locals.id_publisher &&
                                                            id_publisher==publisher.id_publisher ? 'selected' : '' %>>
                                                            <%= publisher.name %>
                                                        </option>
                                                        <% }); %>
                                                </select>
                                            </div>
                                            <div class="form-group mb-3">
                                                <label>Stock:</label>
                                                <input type="number" name="stock" class="form-control"
                                                    value="<%= locals.stock || '' %>" min="0" required>
                                                <small class="form-text text-muted">Cantidad de ejemplares
                                                    disponibles</small>
                                            </div>
                                            <div class="mt-4">
                                                <button type="submit" class="btn btn-success">
                                                    <i class="fas fa-save"></i> Guardar
                                                </button>
                                                <a href="/books" class="btn btn-secondary ms-2">
                                                    <i class="fas fa-arrow-left"></i> Cancelar
                                                </a>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                    </div>
                </main>

                <!-- FOOTER -->
                <%- include('../plantillas/footer') %>

        </div>

        <!-- Font Awesome -->
        <script src="https://kit.fontawesome.com/your-code.js" crossorigin="anonymous"></script>
</body>

</html>